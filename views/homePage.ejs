<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home Page of Landbook</title>

    <link rel="stylesheet" href="/stylesheets/homePagesCSS/homePage.css">
    <link rel="icon" type="image/png" href="/Landbook.link.png">

    <!-- google translate hidden element (head) -->
<div id="google_translate_element" style="display:none;"></div>

<script>
  function googleTranslateElementInit() {
    new google.translate.TranslateElement({
      pageLanguage: 'en',
      includedLanguages: 'en,hi,bn,ur,ta,te,pa,gu,ml,mr,it',
      autoDisplay: false,
    }, 'google_translate_element');
  }
</script>
<script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    
</head>
<body>


  <header>
    <div class="header">
      <div class="leftContainer">
        <img src="/Landbook.link.png" alt="">
      </div>
      <div class="middleContainer">
        Welcome to Landbook
      </div>
    </div>
  </header>

<div class="heading">

  <div class="navigations">
    <a href="/home/landbook" class="links">
      <div>
        Home 
      </div>
    </a>
    <div class="line">
      |
    </div>
    <a href="/home/aboutus" class="links">
      <div>
        About Us 
      </div>
    </a>
    <div class="line">
      |
    </div>
    <a href="/home/help/<%= city %>/<%= tehsil %>" class="links">
      <div>
        Help
      </div>
    </a>

    <div class="cart">
      <a href="/buy/claimcart/products/<%= city %>/<%= tehsil %>">
        <img src="/imagesAndVideos/Logos/Cart Icon.svg" alt="">
      </a>
      <div class="cartNotifications">
        <% if (currentUser) { %>
          <%= currentUser.claimCart.length %>
        <% } else { %>
          0
        <% } %>
      </div>
    </div>

  </div>

  <div class="aboutLandbook">
    You are on <span class="names">Landbook.com</span>. You can buy variety of
    lands in your city as well as in other cities wthin <span class="highlighted">48 hours</span> 
    through <span class="names">Landbook</span>. Also can sell your lands in 15
    days in <span class="italics">speedy</span> way.
  </div> 

  <fieldset class="main-area">
    <main>
      <section>
        <h3>Buy a zameen in <%= tehsil %> Tahsil in <%= city %> district</h3>
        <a href="/home/buy/<%= city %>/<%= tehsil %>">
          <button>Here</button>
        </a>
      </section>

      <section>
        <h3>Sell a zameen in <%= tehsil %> Tahsil in <%= city %> district</h3>
        <a href="/home/sell/<%= city %>/<%= tehsil %>">
          <button>Here</button>
        </a>
      </section>
    </main>
  </fieldset>
          


</div>

  <footer>
    <b>Notice:</b><i>What does <b>Landbook</b> means?</i> It simply means Freedom, where you can buy or sell 
    a Zameen at any time with our Contact , without losing your important time and work..
  </footer>
  <select id="languageSelect language-select" hidden>
    <option value="en">English</option>
    <option value="hi">हिन्दी</option>
    <option value="bn">বাংলা</option>
    <option value="ur">اردو</option>
    <option value="ta">தமிழ்</option>
    <option value="te">తెలుగు</option>
    <option value="pa">ਪੰਜਾਬੀ</option>
    <option value="gu">ગુજરાતી</option>
    <option value="ml">മലയാളം</option>
    <option value="mr">मराठी</option>
    <option value="it">Italiano</option>
  </select>


  <script>
  (function() {
const SELECT_ID = 'languageSelect';
const STORAGE_KEY = 'preferredLanguage';
const defaultSourceLang = 'en';

function setCookie(name, value, days, path = '/') {
  const d = new Date();
  d.setTime(d.getTime() + (days*24*60*60*1000));
  document.cookie = `${name}=${value};expires=${d.toUTCString()};path=${path}`;
}

function getCookie(name) {
  const match = document.cookie.match(new RegExp('(^| )' + name + '=([^;]+)'));
  return match ? decodeURIComponent(match[2]) : null;
}

// Extract target language from googtrans cookie ("/en/hi" → "hi")
function currentLangFromCookie() {
  const c = getCookie('googtrans');
  if (!c) return defaultSourceLang;
  const parts = c.split('/');
  return parts[2] || defaultSourceLang;
}

function trySetComboLang(lang) {
  const combo = document.querySelector('.goog-te-combo');
  if (combo) {
    if (combo.value !== lang) {
      combo.value = lang;
      combo.dispatchEvent(new Event('change'));
      console.log('Translate combo switched →', lang);
    } else {
      console.log('Language already active →', lang);
    }
    return true;
  }
  return false;
}

function fallbackSetLang(lang) {
  try {
    setCookie('googtrans', `/${defaultSourceLang}/${lang}`, 365, '/');
    setCookie('googtrans', `/${defaultSourceLang}/${lang}`, 365, '/');
    window.location.reload();
  } catch (e) {
    console.error('fallbackSetLang error', e);
  }
}

function setLanguage(lang) {
  localStorage.setItem(STORAGE_KEY, lang);

  // prevent loop if already same language
  const current = currentLangFromCookie();
  if (current === lang) {
    console.log('Skip re-translate (already', lang, ')');
    return;
  }

  let attempts = 0;
  const maxAttempts = 25;
  const interval = setInterval(() => {
    attempts++;
    const done = trySetComboLang(lang);
    if (done) {
      clearInterval(interval);
      return;
    }
    if (attempts >= maxAttempts) {
      clearInterval(interval);
      console.warn('Combo not found, fallback to cookie');
      fallbackSetLang(lang);
    }
  }, 100);
}

function initSelector() {
  const sel = document.getElementById(SELECT_ID);
  if (!sel) return;

  // restore saved
  const saved = localStorage.getItem(STORAGE_KEY);
  if (saved) {
    sel.value = saved;
    const current = currentLangFromCookie();
    if (current !== saved) {
      setLanguage(saved);
    }
  }

  sel.addEventListener('change', function() {
    const lang = this.value;
    setLanguage(lang);
  });
}

if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', initSelector);
} else {
  initSelector();
}
})()

  </script>

</body>
</html>